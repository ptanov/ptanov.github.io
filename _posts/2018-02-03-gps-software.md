---
layout: post
title: Приложения за работа с GPS координати, създаване/споделяне на маршрути (gpx)
tags: tourism routes gps gpx openstreetmap garmin komoot strava software
categories: tourism
---
Различни полезни приложения/команди за работа с GPS/gpx и допълнителен софтуер, който ползвам, когато искам да запиша, създам или споделя маршрут

# Удобство

Съществуват множество приложения/сайтове за работа с маршрути. Не си представям човек да има желание да качва всичките си gpx файлове във всеки един сайт. За щастие повечето имат синхронизация помежду си. За това качвам gpx файловете в [Garmin Connect](https://connect.garmin.com/modern/), а него съм настроил да се синхронизира с [Komoot](https://www.komoot.com/) и [Strava](http://strava.com/) ([как става](https://www.dcrainmaker.com/2020/05/garmin-launches-strava-komoot-route-sync-works-on-devices-a-decade-old.html)). Garmin Connect има множество синхронизации с други платформи като [Relive](https://www.relive.cc/), [Endomondo](https://www.endomondo.com/), [AllTrails](https://www.alltrails.com/) и много други. Отделно [Strava](http://strava.com/) е интегрирана с [FatMap](https://fatmap.com/adventure-studio) и [ayvri](https://ayvri.com/) от където автоматично се създават доста приятни изгледи на разходката, например: [2020-11-01 Vitosha, Simeonovo - Severina hut - Lale 1 dolna stancia - near Fizkulturnik hut - Aleko - Lale 1 dolna stancia - Severina hut - Simeonovo](https://fatmap.com/adventureid/4142437/2020-11-01-vitosha-simeonovo-severina-hut-lale-1-dolna-stancia-near-fizkulturnik-hut-aleko-lale-1-dolna-stancia-severina-hut-simeonovo) - бутончето със самолет помага да се добие добра представа точно от къде се минава - опитайте. И всичко това става автоматично само с драгване на gpx файла в Garmin Connect, а ако човек разполага с по-модерно Garmin устройство би ставало абсолютно автоматично при завършване на записването в устройството. Разбира се, може да се настрои дали маршртите да са публични или частни по подразбиране.

# [Komoot](http://komoot.com)

От доста време търся приложение/сайт, в който да мога да търся/създавам маршрути и най-накрая стигнах до едно, което намирам, че покрива почти всичките изисквания - <http://www.komoot.com>

## Предимства

- лесно споделяне на завършен преход с други хора.
- лесно споделяне на плануван преход с други хора.
- рутиране - човек може да избере две (или повече) точки и приложението автоматично прави маршрут по познатите от него пътеки ([openstreetmaps]({% post_url 2018-02-03-gps-software %}#openstreet-map)).
- highlights (точка или сегмент) - хората могат да отбелязват неща, които си заслужават да бъдат посетени. Можеш да използваш тези точки за създаване на маршрут (например, сегмент: <https://www.komoot.com/highlight/276916>, точка: <https://www.komoot.com/highlight/137873>).
- добавяне на снимки към завършени преходи - те се визуализират върху картата (стига да са с gps координати, например <https://www.komoot.com/tour/20446198/zoom>).
- сваляне на оригинален gpx файл от нерегистрирани потребители (трябва да се scroll-не надолу в страницата).

## Недостатъци

- малка общност в България (малко highlights) :(
- ако снимките нямат gps координати - не ги синхронизира по време - това може да стане ръчно ([Приложения за работа с GPS координати (gpx)]({% post_url 2018-02-03-gps-software %})).
- в приложението няма опция за търсене на маршрут, но може да се търси с гугъл (например, търсене за [komoot botev](https://www.google.bg/search?q=komoot+botev)) - за това е важно името на прехода да е подробно.
- offline работата като цяло е платена, но може да се ползва пълнофункционално безплатно за един регион. Така или иначе обичам да подкрепям стойностните приложения за това си мисля, че нещо ако си струва не е проблем да се плати, а в случая - еднократно.
- не може да се добавя точка или сегмент към коментар към маршрут и да се ползва като дневник на пътуването (<http://help.komoot.de/forums/213895-ideas/suggestions/20118877--highlight-visible-only-for-a-tour>)

# [Strava](https://www.strava.com/)

Разликата между [komoot](http://komoot.com) и [strava](http://strava.com) (освен всичко друго) е че едното е специализирано в измерването на спортните постижения и мотивацията на спортистта, а другото - към откриването на нови приятни места и маршрути... За това за маршрути ползвам komoot, а за неща свързани с натоварване бих ползвал strava, където можеш да гледаш различните сегменти и да сравняваш представянето си с останалите (например, <https://www.strava.com/segments/13828544?filter=overall>)... Алтернатива на strava е [endomondo](http://endomondo.com). Иначе и тук има възможност за [създаване на маршрут](https://www.strava.com/routes/new) както и разглеждане на [heatmap](https://www.strava.com/heatmap#14.34/23.28999/42.58066/hot/winter) - къде спортуват хората най-често, например: [зимни спортове на Витоша](https://www.strava.com/heatmap#14.34/23.28999/42.58066/hot/winter)

# Карти за телефон (iPhone/Android)

За iOS и Андроид има много приятно и лесно за ползване приложение за карти - [MAPS.me](https://maps.me/download/) (освен [komoot](#komoot)) - картите се свалят и работи и без Интернет, за Андроид има друго приложение с много функционалност, но дървен интерфейс (все едно е писано само от програмист, без дизайнер) - [oruxmaps](http://www.oruxmaps.com/cs/en/more/downloads) ([donate](https://play.google.com/store/apps/details?id=com.orux.oruxmapsDonate)) (някой път бих писал по-подробно за него и функционалността му, например как без Интернет да имаш Google satellite images, http://kade.si, как да се ползва с карти за Гармин и т.н.) - [кратко описание](http://planinar.org/bgmountains-%D0%BA%D0%B0%D1%80%D1%82%D0%B0-%D0%B7%D0%B0-android/), [подробно описание](http://planina.e-psylon.net/viewtopic.php?t=13310). Друга (за iPhone/Android) е [windy maps](https://www.windy.com/maps) - доста приятна за ползване, но е нова и не съм си играл много, windy имат и хубаво приложение за [Прогноза за времето]({% post_url 2018-02-04-tourism %}#прогноза-за-времето).

Други приложения, които си заслужават: [mapy.cz](https://en.mapy.cz/zakladni?x=23.3167000&y=42.6833000&z=9&mobilepromo=1)

# Други сайтове с маршрути, карти и статистика

- <http://planina.e-psylon.net/viewtopic.php?p=139840#139840> - списък с повече пояснения за komoot, strava, gaiagps
- <https://it-maps.iskartour.com/bg/%D0%B8%D0%BD%D1%82%D0%B5%D0%B0%D0%BA%D1%82%D0%B8%D0%B2%D0%BD%D0%B0-%D0%B4%D0%B5%D1%82%D0%B0%D0%B9%D0%BB%D0%BD%D0%B0-%D0%BA%D0%B0%D1%80%D1%82%D0%B0-it-maps/> - детайлна карта на България и много маршрути по [регион](https://it-maps.iskartour.com/en/mountain-routes-tracks-regions/), [тип активност/дейност](https://it-maps.iskartour.com/en/activities-mountain-routes-tracks/), [сезон](https://it-maps.iskartour.com/en/seasons-mountain-routes-tracks/)
- <http://www.mygpsfiles.com/app/> - визуализиране (и споделяне) на много маршрути (gpx) на една карта
- <http://www.graphmyhike.com/> - статистика за изминат маршрут
- <http://www.ibpindex.com/index.php/en/> - определяне на трудност на маршрут
- <http://www.javawa.nl/analyser.html>, <https://geo.javawa.nl/trackanalyse/index.php?lang=en> - статистика за маршрут
- <https://www.nicetrails.com/app/> - 3D визуализация на маршрут
- <https://link.ui.com/>, <https://www.heywhatsthat.com/> - какво се вижда от дадено място ([източник на линковете](https://www.facebook.com/groups/226331370759538/permalink/2692711380788179/))
- <https://www.solwise.co.uk/wireless-elevationtool.html> - какъв е релефът между две точки и дали има пряка видимост
- [FatMap](http://fatmap.com) - много полезна карта, с анализ на склонове във връзка с лавинната безопастност и планирането на маршрут (ориентация, наклон, т.н.). Също така има маршрути с описания, макар и малко за сега
- [caltopo](https://caltopo.com/map.html#ll=42.57014,23.28244&z=16&b=mbt&a=cm20%2Csf%2Cwater%2Cwx) - карта с много възможности за настройка - релеф с градуси (DEM shading) и други.
- <http://www.gpsvisualizer.com/> - import and convert of multiple sources, web gps babel
- <https://tripsjournal.com/marshruti> - добре подредени и описани маршрути в България, например [маршрути до всички първенци на съответните планини](https://tripsjournal.com/marshruti-do-balgarskite-planinski-parventsi)
- [GaiaGPS](https://www.gaiagps.com) - подреждане на маршрути в папки, визуализиране на цяла папка с маршрути върху карта, повече информация [тук](http://planina.e-psylon.net/viewtopic.php?p=139840#139840) и [тук](http://planina.e-psylon.net/viewtopic.php?p=142382#142382).
- <https://www.gps-tour.info>
- <http://www.gpsies.com/>
- <http://en.wikiloc.com/wikiloc/home.do>
- <http://everytrail.com>
- <https://tracedetrail.fr> - организиране на състезания
- <http://www.movescount.com/> - суунто
- <https://routecheck.cc/>, <https://www.plotaroute.com/myhome>

# Други приложения и команди

- linux app for visualization of tracks + images - [GPS prune](https://wiki.openstreetmap.org/wiki/GpsPrune)
- приложение за бързо разглеждане и категоризиране на снимки [geeqie](http://www.geeqie.org/) и разбира се [Google Photos](https://photos.google.com) - лесно се търси по места и съдържание на снимките (например, [сняг](https://photos.google.com/search/%D1%81%D0%BD%D1%8F%D0%B3)).
- сваляне на записани данни от [Holux M-241](https://wiki.openstreetmap.org/wiki/Holux_M-241) `gpsbabel -r -w -t -i m241 -f /dev/ttyUSB0 -o gpx -F track.gpx` (run with sudo if you don't have access to USB ports)
- добавяне на GPS координати към снимки на базата на часа на снимката и записан маршрут (gpx) `exiftool -geotag *.gpx *.jpg` или `gpscorrelate -g track.gpx  -O -10800 *.jpg`, други [примери с ExifTool]({% post_url 2019-03-20-exiftool %}).
- обединяване на GPS координати (gpx файл) и пулс (heart rate) от MiBand 3 (csv файл) посредством [GPX Merge Heartrate](https://github.com/ptanov/gpxmergeheartrate), [сорс код](https://github.com/ptanov/gpxmergeheartrate): `docker run --rm -it -v /etc/timezone:/etc/timezone:ro -v "$(pwd)":/data ptanov/gpxmergeheartrate *.gpx *.csv out && cp out "${PWD##*/}.gpx" && rm -f out`

# Синхронизиране на метаданните на снимки с GPS координати (по време)

- [примери с ExifTool]({% post_url 2019-03-20-exiftool %})

# Карта на България

Съществуват няколко подробни карти за България:

- bgmountains <http://kade.si> <http://bgmountains.org>, безплатна
- iskartour <https://it-maps.iskartour.com/bg/%D0%B8%D0%BD%D1%82%D0%B5%D0%B0%D0%BA%D1%82%D0%B8%D0%B2%D0%BD%D0%B0-%D0%B4%D0%B5%D1%82%D0%B0%D0%B9%D0%BB%D0%BD%D0%B0-%D0%BA%D0%B0%D1%80%D1%82%D0%B0-it-maps/>, освен хартиена карта, предлагат и много добра карта онлайн
- openstreet map <http://openstreetmap.org>, безплатна, лесна за редакция
- <http://karta.bg>, платена

# Openstreet Map

Човек лесно може да добавя и редактира тази карта. За да се ползва на Гармин устройство трябва да се "рендерира" за Гармин. Това може да стане "на ръка" или да се свали наготово от сайт и да се качи на устройството. Всеки един сайт прилага различни стилове и филтри към данните от openstreet map и за това те изглеждат по различен начин - за туризъм, за кола и за други.

# Сваляне на карти за Гармин

## Безплатни карти

Информацията е за Dakota 20, но предполагам, че важи за всички Garmin - свалянето на карти от други безплатни източници (различни рендери на open street maps, bg mountains и други) става лесно - под линукс сваляш един архив и го разархивираш на устройството в определена папка, а под уиндоус имаш възможност да свалиш и .exe, което като стартираш да регистрира картата в basecamp (или което беше последното приложение на Гармин, защото те направиха ново по едно време), а от там то да я качи на устройството. Т.е. тези безплатни карти могат да се качват свободно на устройството. Ето няколко линка:
 - <https://bgmountains.org/en/maps/garmin-maps/category/9-bgmountains> - bg mountains, kade.si - няма нужда от представяне (най-подробната за България)
 - <https://wiki.openstreetmap.org/wiki/OSM_Map_On_Garmin/Download> - по принцип с данните от опенстрийт мапс се правят множество различни карти в зависимост от приложението - за пешеходен туризъм, за велопоходи, за ски, атв, т.н. и в зависимост от дейността се изобразяват (render) различни елементи от картата при различен мащаб (zoom). За това и има толкова различни опции на линка по-горе. За мен е важно да има контурните линии (но това може да се добави като отделна карта ако устройстовото дава възможност за зареждане на две карти едновременно). В линка има карти и за вело маршрути (потърси в текста velo и/или cycle и/или mtb)
 - <https://www.wanderreitkarte.de/garmin_de.php> - много приятна карта (базирана на openstreetmaps), в която има цветовете на маркировката, но няма рутиране (и може и да е на немски на места)
 - <https://garmin.opentopomap.org/> - друга базирана на openstreetmaps
 - <http://garmin.openstreetmap.nl/> - трета базирана на opensteetmaps

В общи линии въпреки, че имам OFRM като гледам не съм я обновявал от няколко години, защото ползвам предимно openstreet maps, но това е защото преди преход проверявам къде има пътеки, правя си маршрут и различни варианти към него в зависимост от моментната обстановка и после го/ги следвам. Различните карти (освен всички останали източници) ги ползвам за да се осведомя предварително дали мястото е проходимо още на компютъра като съм (примерно пътека я има в openstreetmaps, но я няма в bgmountains или е много тънка чертичката или обратното - имам едно наум да потърся дали мястото действително е проходимо към момента)

## OFRM karta.bg

- [karta.bg](https://support.karta.bg/?mod=licenses-manual)
  - Посетете www.karta.bg и влезте във Вашия потребителски профил от "Вход" в горния десен ъгъл на екрана. Главен файл, съдържащ картата TOPO LAT GPS
  - за да се обнови трябва да се влезне с акаунта си в karta.bg и от там да се свали. За да се купи карта (с поддръжка за 1, 2 години или доживот) се дава информация GPS устройстовото (сериен номер) и съответното картата ще работи само на това устройство (заключена е по този номер). Та ако реша да продам устройството за да може новият собственик да сваля карти ще трябва да му дам и акаунта си. Не съм сигурен как стои въпросът за платени карти от друг източник. Устройството ми е много старо (Dakota 20), за новите устройства може би и да има приложения, които автоматично да свалят ако е с правилния сериен номер - не съм запознат.

# Как да направим сами Garmin карта от Openstreet maps

TODO - в отделен пост

# Прогноза за времето

- [Прогноза за времето]({% post_url 2018-02-04-tourism %}#прогноза-за-времето)
